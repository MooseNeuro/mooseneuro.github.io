---
import "../styles/global.css";
import BaseLayout from "../layouts/BaseLayout.astro";
import { remark } from "remark";
import rehypeStringify from "rehype-stringify";
import remarkParse from "remark-parse";
import remarkRehype from "remark-rehype";
import { unified } from "unified";
import { marked } from "marked";
import NewsLayout from "@/layouts/NewsLayout.astro";

// const release = await fetch(
//   "https://api.github.com/repos/MooseNeuro/moose-core/releases/tags/v4.1.1",
//   {
//     headers: { Accept: "application/vnd.github+json" },
//   }
// )
//   .then((res) => res.json())
//   .then((data) => data.body);
// // const rawUrl =
// //   "https://api.github.com/repos/MooseNeuro/moose-core/releases/tags/v4.1.1";
// // let markdownContent: string = "";
// // const res = await fetch(rawUrl);
// // markdownContent = await res.body;
// const releaseHtml = marked(release);
---

<NewsLayout title="Latest News">
  <div class="mx-auto max-w-7xl gap-20 px-6 lg:px-8">
    <article
      class="max-w-full p-6 text-text-primary md:p-2 prose font-normal mx-auto leading-5 text-justify"
    >
      <div class="max-w-full">
        <div class="font-bold text-black sm:text-4xl p-4">
          <h3 class="border-b-2">
            New Incremental Release of MOOSE v4.1.1 is here!
          </h3>
          <h6 class="font-normal">
            v4.1.1 - Incremental Release over v4.1.0 <span class="italic"
              >Jhangri !</span
            >
          </h6>
          <a
            href="https://github.com/MooseNeuro/moose-core/releases/tag/v4.1.1"
            class="text-sm text-indigo-900 hover:bg-indigo-400 leading-5"
          >
            <span>GitHub:</span> Release v4.1.1 Incremental Release over v4.1.0 Jhangri"
            · MooseNeuro/moose-core · GitHub</a
          >
          <div class="text-lg sm:text-xl font-normal">
            <p>
              The latest release is now available to install from PyPI via
              "pip". The incremental release further brings performance
              improvements, new features, API updates, key bug fixes, more
              detailed documentation, and enhanced stability.
            </p>
            <p>
              Trivia: <span class="italic">Jhangri</span> is an Indian sweet in the
              shape of a flower. It is made of white-lentil batter, deep-fried in
              ornamental shapes to form the crunchy, golden body, which is then soaked
              in sugar syrup lightly flavoured with spices.
            </p>
          </div>
        </div>
      </div>
    </article>
  </div>
</NewsLayout>
<script>
  const nav = document.getElementsByTagName("header")[0];
  nav.classList.remove("bg-black");
  window.addEventListener("scroll", function () {
    if (window.scrollY > 0) {
      nav.classList.add("bg-black");
    } else {
      nav.classList.remove("bg-black");
    }
  });
</script>
